        <h3>COPDç»„é—´æ¯”è¾ƒ</h3>
        <p><img src="copd_bio_boxplot.jpeg" alt="ç”ŸåŒ–æŒ‡æ ‡æŒ‰COPDåˆ†ç»„ç®±çº¿å›¾" style="max-width: 100%; height: auto;"></p>
        <p><strong>åˆ†æç»“è®º</strong>ï¼šå¤šä¸ªç”ŸåŒ–æŒ‡æ ‡åœ¨COPDç»„å’ŒéCOPDç»„ä¹‹é—´å­˜åœ¨æ˜¾è‘—å·®å¼‚ï¼ˆp<0.05ï¼‰ï¼Œè¿™äº›æŒ‡æ ‡å¯ä»¥ä½œä¸ºCOPDé¢„æµ‹çš„æ½œåœ¨ç‰¹å¾ã€‚</p>
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COPDé¢„æµ‹ï¼šåŸºäºç”ŸåŒ–æŒ‡æ ‡ä¸é—®å·æ•°æ®çš„æœºå™¨å­¦ä¹ æ¨¡å‹</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', 'SimHei', sans-serif;
            line-height: 1.8;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        h2 {
            color: #3498db;
            margin-top: 30px;
            margin-bottom: 20px;
        }
        h3 {
            color: #2c3e50;
            margin-top: 25px;
            margin-bottom: 15px;
        }
        .project-overview {
            background-color: #e8f4f8;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
        }
        .tech-stack {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 30px;
        }
        .tech-stack ul {
            list-style-type: none;
            padding: 0;
        }
        .tech-stack li {
            display: inline-block;
            background-color: #3498db;
            color: white;
            padding: 8px 15px;
            margin: 5px;
            border-radius: 20px;
        }
        .code-block {
            background-color: #f0f0f0;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 20px 0;
        }
        pre {
            margin: 0;
            font-family: 'Courier New', Courier, monospace;
        }
        .results {
            background-color: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        table, th, td {
            border: 1px solid #ddd;
        }
        th, td {
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #3498db;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f2f2f2;
        }
        a {
            color: #3498db;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        ul {
            margin-left: 20px;
        }
        .data-sources {
            margin-left: 20px;
        }
        .code-download {
            margin: 15px 0 25px 0;
            padding: 10px 15px;
            background-color: #e8f4f8;
            border-radius: 5px;
            display: inline-block;
        }
        .code-download a {
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>COPDé¢„æµ‹ï¼šåŸºäºç”ŸåŒ–æŒ‡æ ‡ä¸é—®å·æ•°æ®çš„æœºå™¨å­¦ä¹ æ¨¡å‹</h1>
        
        <div class="project-overview">
            <h2>é¡¹ç›®æ¦‚è¿°</h2>
            <p>æœ¬é¡¹ç›®æ•´åˆç”ŸåŒ–æŒ‡æ ‡ä¸é—®å·æ•°æ®ï¼Œé€šè¿‡æœºå™¨å­¦ä¹ æ¨¡å‹é¢„æµ‹COPDå‘ç”Ÿé£é™©ï¼Œä¸ºæ—©æœŸå¹²é¢„æä¾›ä¾æ®ã€‚æ…¢æ€§é˜»å¡æ€§è‚ºç–¾ç—…ï¼ˆCOPDï¼‰æ˜¯ä¸€ç§å¸¸è§çš„æ…¢æ€§å‘¼å¸ç³»ç»Ÿç–¾ç—…ï¼Œæ—©æœŸè¯Šæ–­å’Œå¹²é¢„å¯¹äºæ”¹å–„æ‚£è€…é¢„åè‡³å…³é‡è¦ã€‚</p>
        </div>
        
        <div class="tech-stack">
            <h2>æŠ€æœ¯æ ˆ</h2>
            <ul>
                <li>Python</li>
                <li>Scikit-learn</li>
                <li>Pandas</li>
                <li>Matplotlib</li>
            </ul>
        </div>
        
        <h2>æ•°æ®æ¥æº</h2>
        <div class="data-sources">
            <ol>
                <li><strong>ç”ŸåŒ–æŒ‡æ ‡æ•°æ®</strong>ï¼šåŒ…å«25120ä¸ªæ ·æœ¬ï¼Œ94ä¸ªç”ŸåŒ–æŒ‡æ ‡</li>
                <li><strong>é—®å·æ•°æ®</strong>ï¼šåŒ…å«25239ä¸ªæ ·æœ¬ï¼Œ31ä¸ªé—®å·å˜é‡</li>
            </ol>
        </div>
        
        <h2>æ ¸å¿ƒå®ç°</h2>
        <!-- æ–°å¢ä»£ç ä¸‹è½½é“¾æ¥ -->
        <div class="code-download">
            <a href="python_homewrok.ipynb" download>ğŸ“¥ ä¸‹è½½å®Œæ•´ä»£ç æ–‡ä»¶ (python_homewrok.ipynb)</a>
        </div>
        
        <h3>æ•°æ®é¢„å¤„ç†</h3>
        <div class="code-block">
            <pre>
# å®šä¹‰æ ¸å¿ƒç”ŸåŒ–æŒ‡æ ‡åˆ—è¡¨
bio_indicators = [
    'alb_gl', 'alt_ul', 'apoa1_mgdl', 'apob_mgdl', 'ast_ul', 'chol_mmoll',
    'crea_umoll', 'cysc_mgl', 'fib_gl', 'ggt_ul', 'hdl_mmoll', 'hscrp_mgl',
    'ldl_mmoll', 'lpa_nmoll', 'tg_mmoll', 'totalvitd_ngml', 'uric_umoll'
]

# è´¨é‡æ§åˆ¶ï¼šä¿ç•™åˆæ ¼æ ·å“
qc_indicators = ['haemolysed', 'turbid', 'lipaemic', 'icteric']
biosamples_qc = biosamples_clean[(biosamples_clean[qc_indicators] == 0).all(axis=1)].copy()

# æ•°æ®åˆå¹¶
data_merged = pd.merge(
    left=biosamples_qc,
    right=questionnaires_df,
    on='studyid',
    how='inner'
)</pre>
        </div>
        
        <h3>ç‰¹å¾å·¥ç¨‹</h3>
        <div class="code-block">
            <pre>
# ç”Ÿæˆå¹´é¾„å˜é‡
data_model['Age'] = data_model['age_at_study_date_x100'] / 100

# æ€§åˆ«å˜é‡
data_model['Sex'] = data_model['is_female'].map({0: 'Male', 1: 'Female'})

# å¸çƒŸçŠ¶æ€
data_model['Current_Smoker'] = np.where(
    data_model['smoking_category'].isin([1, 2, 3]), 'No',
    np.where(data_model['smoking_category'] == 4, 'Yes', np.nan)
)</pre>
        </div>
        
        <h3>æ¨¡å‹æ„å»º</h3>
        <div class="code-block">
            <pre>
# å®šä¹‰ä¸‰ç§ç®—æ³•æ¨¡å‹
models_dict = {
    'é€»è¾‘å›å½’': LogisticRegression(random_state=42, max_iter=1000, solver='lbfgs'),
    'éšæœºæ£®æ—': RandomForestClassifier(random_state=42, n_estimators=100, max_depth=10),
    'æ”¯æŒå‘é‡æœº': SVC(random_state=42, kernel='linear', probability=True, cache_size=1000)
}

# è®­ç»ƒåŸºç¡€æ¨¡å‹
model_base, acc_base, rec_base, auc_base, y_prob_base, y_pred_base, y_prob_base_train = train_evaluate_model(
    base_model, X_train_raw, X_test_raw, y_train, y_test, current_vars_base
)</pre>
        </div>
        
        <h2>åˆ†æç»“æœ</h2>
        
        <h3>ç”ŸåŒ–æŒ‡æ ‡åˆ†å¸ƒ</h3>
        <p><img src="bio_indicators_histogram.jpeg" alt="ç”ŸåŒ–æŒ‡æ ‡ç›´æ–¹å›¾" style="max-width: 100%; height: auto;"></p>
        <p><strong>åˆ†æç»“è®º</strong>ï¼šç”ŸåŒ–æŒ‡æ ‡å‘ˆç°ä¸åŒçš„åˆ†å¸ƒç‰¹å¾ï¼Œéƒ¨åˆ†æŒ‡æ ‡å­˜åœ¨æ˜æ˜¾çš„åæ€åˆ†å¸ƒï¼Œéœ€è¦è¿›è¡Œé€‚å½“çš„è½¬æ¢æˆ–ä½¿ç”¨éå‚æ•°ç»Ÿè®¡æ–¹æ³•ã€‚</p>
        
        <h3>COPDç»„é—´æ¯”è¾ƒ</h3>
        <p><img src="copd_bio_boxplot.jpeg" alt="ç”ŸåŒ–æŒ‡æ ‡æŒ‰COPDåˆ†ç»„ç®±çº¿å›¾" style="max-width: 100%; height: auto;"></p>
        <p><strong>åˆ†æç»“è®º</strong>ï¼šå¤šä¸ªç”ŸåŒ–æŒ‡æ ‡åœ¨COPDç»„å’ŒéCOPDç»„ä¹‹é—´å­˜åœ¨æ˜¾è‘—å·®å¼‚ï¼ˆp<0.05ï¼‰ï¼Œè¿™äº›æŒ‡æ ‡å¯ä»¥ä½œä¸ºCOPDé¢„æµ‹çš„æ½œåœ¨ç‰¹å¾ã€‚</p>
        
        <h3>æ¨¡å‹æ€§èƒ½</h3>
        <div class="results">
            <table>
                <tr>
                    <th>ç®—æ³•</th>
                    <th>åŸºç¡€æ¨¡å‹AUC</th>
                    <th>æœ€ä½³å•æŒ‡æ ‡æ¨¡å‹AUC</th>
                    <th>æœ€ä½³NRI</th>
                </tr>
                <tr>
                    <td>é€»è¾‘å›å½’</td>
                    <td>0.7356</td>
                    <td>0.7429</td>
                    <td>0.0302</td>
                </tr>
                <tr>
                    <td>éšæœºæ£®æ—</td>
                    <td>0.6813</td>
                    <td>0.7008</td>
                    <td>0.1208</td>
                </tr>
                <tr>
                    <td>æ”¯æŒå‘é‡æœº</td>
                    <td>0.7368</td>
                    <td>0.7431</td>
                    <td>0.0093</td>
                </tr>
            </table>
            <p><strong>åˆ†æç»“è®º</strong>ï¼šæ”¯æŒå‘é‡æœºæ¨¡å‹åœ¨æ‰€æœ‰è¯„ä¼°æŒ‡æ ‡ä¸­è¡¨ç°æœ€ä½³ï¼ŒAUCè¾¾åˆ°0.7431ï¼Œæ˜¾ç¤ºå‡ºè¾ƒå¥½çš„COPDé¢„æµ‹èƒ½åŠ›ã€‚</p>
            
            <p><img src="model1.JPG" alt="é€»è¾‘å›å½’é¢„æµ‹æ¨¡å‹æ€§èƒ½" style="max-width: 100%; height: auto;"></p>
            <p><strong>é€»è¾‘å›å½’é¢„æµ‹æ¨¡å‹æ€§èƒ½</strong>ï¼šé€»è¾‘å›å½’åŸºç¡€æ¨¡å‹ç»¼åˆæ€§èƒ½æœ€ä¼˜ã€‚</p>

            <p><img src="model2.JPG" alt="éšæœºæ£®æ—é¢„æµ‹æ¨¡å‹æ€§èƒ½" style="max-width: 100%; height: auto;"></p>
            <p><strong>éšæœºæ£®æ—é¢„æµ‹æ¨¡å‹æ€§èƒ½</strong>ï¼šéšæœºæ£®æ—æ¨¡å‹ç»¼åˆæ€§èƒ½æœ€å·®ã€‚</p>

            <p><img src="model3.JPG" alt="SVMé¢„æµ‹æ¨¡å‹æ€§èƒ½" style="max-width: 100%; height: auto;"></p>
            <p><strong>SVMé¢„æµ‹æ¨¡å‹æ€§èƒ½</strong>ï¼šSVM çš„åŸºç¡€æ¨¡å‹å¢åŠ èƒ±æŠ‘ç´  C æ•´åˆæ¨¡å‹ä¸ºæœ€ä¼˜ COPD é¢„æµ‹æ¨¡å‹ã€‚</p>            
            
        </div>
        

        
        <h2>ç»“è®º</h2>
        <p>æœ¬é¡¹ç›®æˆåŠŸæ„å»ºäº†åŸºäºç”ŸåŒ–æŒ‡æ ‡å’Œé—®å·æ•°æ®çš„COPDé¢„æµ‹æ¨¡å‹ã€‚æ”¯æŒå‘é‡æœºæ¨¡å‹è¡¨ç°æœ€ä½³ï¼ŒAUCè¾¾åˆ°0.7431ã€‚æ¨¡å‹å¯ä»¥ä¸ºCOPDçš„æ—©æœŸè¯Šæ–­å’Œå¹²é¢„æä¾›æœ‰ä»·å€¼çš„å‚è€ƒã€‚</p>
        
        <h2>æœªæ¥å·¥ä½œ</h2>
        <ul>
            <li>æ•´åˆæ›´å¤šä¸´åºŠæ•°æ®ï¼Œæé«˜æ¨¡å‹æ€§èƒ½</li>
            <li>å¼€å‘ç”¨æˆ·å‹å¥½çš„é¢„æµ‹å·¥å…·</li>
            <li>å¼€å±•å¤–éƒ¨éªŒè¯ï¼Œè¯„ä¼°æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›</li>
        </ul>
    </div>
</body>
</html>
